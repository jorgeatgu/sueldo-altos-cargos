function directionalDot(){const t=48,e=16,a=66,n=96;let c=0,s=0;const r=d3.select(".chart-sueldos"),i=r.select("svg"),l={};let o;const d=o=>{const d=r.node().offsetWidth;c=d-n-e,s=600-t-a,i.attr("width",d).attr("height",600);const m=`translate(${n},${t})`,x=i.select(".chart-sueldos-container");x.attr("transform",m),((t,e)=>{l.count.x.range([0,t]),l.count.y.range([0,e])})(c,s);const u=r.select(".chart-sueldos-container-bis"),p=u.selectAll(".circle-max").data(o);p.exit().remove();const g=u.selectAll(".circle-min").data(o);g.exit().remove();const y=u.selectAll(".circle-mean").data(o);y.exit().remove();const A=p.enter().append("circle").attr("class","circle-max"),h=g.enter().append("circle").attr("class","circle-min"),v=y.enter().append("circle").attr("class","circle-mean");p.merge(A).transition().duration(500).ease(d3.easeLinear).attr("r",6).attr("cy",t=>l.count.y(t.CCAA)+15.5).attr("cx",t=>l.count.x(t.max)),g.merge(h).transition().duration(500).ease(d3.easeLinear).attr("r",6).attr("cy",t=>l.count.y(t.CCAA)+15.5).attr("cx",t=>l.count.x(t.min)),y.merge(v).transition().duration(500).ease(d3.easeLinear).attr("r",6).attr("cy",t=>l.count.y(t.CCAA)+15.5).attr("cx",t=>l.count.x(t.mean));const k=i.selectAll(".label").data(o).enter().append("g").attr("class",t=>t.labels+" container-labels").on("click",t=>{const e=!0!==t.active,a=e?0:6;d3.selectAll(`.circle-${t.labels}`).transition().duration(300).ease(d3.easeLinear).style("r",a),t.active=e}).attr("transform",(t,e)=>`translate(${100*e},${s})`);k.append("circle").attr("cx",n+20).attr("cy",n).attr("r",8).attr("class","legend-rect"),k.append("text").attr("class","legend-text").attr("x",n+40).attr("y",n).attr("dy",".35em").text(t=>t.labels),(t=>{const e=d3.axisTop(l.count.x).tickPadding(15).tickFormat(t=>t+"â‚¬").ticks(11).tickSizeInner(s);t.select(".axis-x").attr("transform",`translate(0,${s})`).transition().duration(500).ease(d3.easeLinear).call(e);const a=d3.axisLeft(l.count.y).tickPadding(5).tickFormat(t=>t).ticks(15).tickSizeInner(-c);t.select(".axis-y").transition().duration(500).ease(d3.easeLinear).call(a)})(x)};window.addEventListener("resize",()=>{d(o)}),d3.csv("csv/max-min-mean.csv",(t,e)=>{t?console.log(t):((o=e).forEach(t=>{t.max=+t.max,t.min=+t.min,t.mean=+t.mean}),console.log(o),(()=>{const t=i.select(".chart-sueldos-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","chart-sueldos-container-bis")})(),(()=>{const t=d3.scaleLinear().domain([0,d3.max(o,t=>1.05*t.max)]),e=d3.scaleBand().domain(o.map(t=>t.CCAA));l.count={x:t,y:e}})(),d(o))})}directionalDot();